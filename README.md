# Floating-Population-Analyze
<em>
This project is designed to analyze the <strong>floting population</strong> using opencv and yolov deep learning model.


we customized the darknet framework, the driving environment of yolov and for data, R was used for analysis.

</em>

# 유동인구 분석 CCTV 개발
## 제 6회 아이디어 해커톤 대회
## Member
 + 전북대학교 14학번 김형중 [링크](https://github.com/khj0209)
 + 전북대학교 17학번 고영훈 [링크](https://yh-kr.tistory.com)
 + 전북대학교 17학번 박주빈 [링크](https://www.jubin-park.com/)
 + 전북대학교 18학번 장윤정

---

## 프로젝트 목적

 + 유동인구 분석을 위해 CCTV 영상 분석을 통해 직접적인 데이터를 수집


 + 프로젝트 기획 시 문제파악
   > - 기존 유동인구 분석은 대부분 지하철 승하차 정보나 주위 인구분포 정보 등 간접적인 데이터를 활용하는 경우가 대다수
   > - 영상데이터를 사용해 분석을 하기에는 개인정보 및 사생활 침해 논란이 일 수 있고 실제 법률적인 문제 존재

 + 문제 해결 방안
   > + CCTV 영상 데이터를 사용하여 성별, 나이대, 걸어다니는 사람과 자동차의 비율등을 분석한다면 더 효율적인 분석이 가능하리라 생각해 프로젝트를 기획
   > + 데이터 3법 개정으로 인해 가명정보의 개념이 도입되었고 가명정보는 특정 개인을 알아볼 수 없도록 처리된 정보라 정의
   > + 객채인식을 통해 영상의 객채정보를 추출한 뒤 영상처리를 사용해 비식별화를 진행하는 방식으로 문제를 해결

---

## 어려웠던 점

1. 프레임 드랍으로 인해 느린 탐지 성능
   > - 동영상에서 객체를 탐지 하는 방법보다는 5초나 10초 이내의 시간 차를 두고 이미지를 촬영해 객체인식을 한 후 이전 촬용된 이미지와 현재 찍힌 이미지를 비교하여 유동인구 카운트를 진행하는 방향이 경제적인 효용성이 높다고 생각했습니다.

2. 얼굴인식을 통해 성별 분류 
   > - 현재 제공되는 yolo 3 에서는 사람의 실루엣은 인식을 하지만 얼굴만 인식하는것은 기본적으로 제공되지 않습니다. 때문에 얼굴을 인식하기 위해서는 커스텀 학습을 시켜 인식을 할 수 있는데 이는 해커톤의 특성상 학습에 필요한 물리적인 시간이 부족하다고 판단되엇습니다. 

   > - 때문에 프로토 타입은 실시간 객체 인식에서는 자동차와 사람인식만 진행을 하였고 성별 구분은 보시는바와같이 OpenCV를 사용하여 코드를 제작하여 테스트를 진행했습니다.

1. 수집한 데이터의 활용방안과 수익모델의 모호함
   > - 우선 CCTV를 활용해 데이터를 수집하여 이를 ELK Stack의 logstash로 모이게 됩니다. 그런 후 엘라스틱 서치를 활용하여 자동으로 인덱싱을 진행되고 이를 Kibana에서는 시각화를 해주게 됩니다.

   > - 이렇게 만들어진 시각화된 도표들은 Kibana를 통해 웹으로 사용자들에게 제공됩니다. 이로써 소상공인들이 새로운 상점을 입점시킬때 사용될 수 있는 데이터를 제공함으로써 프로젝트의 공공성을 높였고

   > - 추가적으로 엘라스틱 서치에서 인덱싱된 데이터와 정부 및 각 지자체의 공공데이터를 종합한 데이터를 분석해 기업이나 기관에 컨설팅을 진행할 수 있습니다. 컨설팅을 통해 대형 프렌차이즈의 상권분석 컨설팅이나 혹은 경찰청과 같은 치안을 담당하는 기관에 유동인구가 적은 치안 취약 시간대등을 분석함으로써 순찰을 증가 시키는 등 다양한 컨설팅이 가능하다고 생각합니다. 

---
